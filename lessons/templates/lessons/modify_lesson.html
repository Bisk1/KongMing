{% extends "base.html"%}
{% load i18n %}
{% block content %}
{% load staticfiles %}
<script type="text/javascript" src='{% static "lessons/js/modify_lesson.js" %}'></script>

<div>
Temat lekcji:
    <input type="text" id="topic" name="topic" value="{{ lesson.topic }}"/>
</div>
<div>
Liczba ćwiczeń:
    <input type="number" id="exercises_number" name="exercises_number" value="{{ lesson.exercises_number }}"/>
</div>
<div>
Wymaganie:
    <select id="requirement">
        <option value="None">Brak</option>

    {% for other_lesson in other_lessons %}
        {% if lesson.requirement.topic == other_lesson.topic %}
            <option value="{{ other_lesson.id }}" selected>{{ other_lesson.topic }}</option>
        {% endif %}
        {% if lesson.requirement.topic != other_lesson.topic %}
            <option value="{{ other_lesson.id }}">{{ other_lesson.topic }}</option>
        {% endif %}
        {% endfor %}
    </select>
</div>

<button id="update" class="btn btn-default" action="{% url 'lessons:modify_lesson' lesson.id %}">Aktualizuj</button>
<div id="updated" hidden>Zaktualizowano</div>
<div>
    Ćwiczenia:
    <div id="exercises">
    {% include "lessons/exercises.html" %}
    </div>
    Dodaj ćwiczenie:
    <form action="{% url 'exercises:add_exercise' lesson_id=lesson.id %}" method="post">
    {% csrf_token %}
        <select id="exercise_type" name="exercise_type">
            <option value='word_zh'>Chinese word</option>
            <option value='word_pl'>Polish word</option>
            <option value='sentence_zh'>Chinese sentence</option>
            <option value='sentence_pl'>Polish sentence</option>
            <option value='explanation'>Explanation</option>
            <option value='explanation_image'>Explanation image</option>
        </select>
        <input type="submit" value="Dodaj" class="btn btn-default">
    </form>
</div>


{% endblock %}
{% block footer %}
{% endblock %}

