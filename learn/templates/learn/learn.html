{% extends "base.html"%}
{% block content %}
{% load staticfiles %}
<script src="http://code.jquery.com/jquery-migrate-1.2.1.js"></script>
<script type="text/javascript" src="{% static "js/chinese-ime/caret.js" %}"></script>
<script type="text/javascript" src="{% static "js/chinese-ime/jQuery.chineseIME.js" %}"></script>
<script type="text/javascript" src="{% static "learn/js/typing.js" %}"></script>
<script type="text/javascript" src="{% static "learn/js/choice.js" %}"></script>
<script type="text/javascript" src="{% static "learn/js/explanation.js" %}"></script>
<script type="text/javascript" src="{% static "learn/js/learn.js" %}"></script>

{% if error_message %}
    <p><strong>
        {{ error_message }}
    </strong></p>
{% endif %}

{% csrf_token %}

<div id="lesson-container" style="height: 100px">
    <input type="hidden" id="lesson_action_id" value="{{ lesson_action.id }}">
    <input type="hidden" id="total_exercises_number" value="{{ lesson_action.total_exercises_number }}">
    <div>
        <div id="topic" style="display: inline-block; font-size: 18px">
            {{ lesson_action.lesson.topic }}
        </div>
    </div>
    <div class="progress progress-striped active">
        <div id="progress-bar" class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar"
            aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div>
    </div>
    <div>
        <div id="status-icons-container"></div>
    </div>
</div>

<div id="exercise-container" style="height: 100px">
    <div id="typing_exercise" class="exercise-type-container" style="display: none;">
        <h2 class="text-center" id="typing_text"></h2>
        <input type="text" name="proposition" id="proposition" hidden/>
        <div id="chinese-ime" style="display: none;">
            <div class="typing"></div>
            <ul class="options" style="display: inline; list-style-type: none;">
            </ul>
        </div>
        <div id="correct" style="display: none; color:blue"></div>
        <div id="comment" style="display: none;"></div>
    </div>
    <div id="explanation_exercise" class="exercise-type-container" style="display: none;">
        <pre><div id="explanation_text"></div></pre>
    </div>
    <div id="choice_exercise" class="exercise-type-container" style="display: none;">
    <form class="container-fluid">
        <h2 class="text-center" id="choice_text_to_translate"></h2>
        <div class="rows">
            <div class="col-md-6">
                <input type="button" class="choice btn btn-default btn-block" id="choice1"/>
            </div>
            <div class="col-md-6">
                <input type="button" class="choice btn btn-default btn-block" id="choice2"/>
            </div>
        </div>
        <div class="rows">
            <div class="col-md-6">
                <input type="button" class="choice btn btn-default btn-block" id="choice3"/>
            </div>
            <div class="col-md-6">
                <input type="button" class="choice btn btn-default btn-block" id="choice4"/>
            </div>
        </div>
    </form>
    </div>
</div>


<div id="status-container" style="height: 40px">
    <div id="status">
        <div id="positive_status" style="display: none; color:green">
            Poprawna odpowiedź!
        </div>
        <div id="negative_status" style="display: none; color:red">
            Zła odpowiedź!
        </div>
    </div>

</div>



<button class="btn btn-default" id="check" style="display: none">Sprawdź</button>
<button class="btn btn-default" id="next">Dalej</button>

<h1 id="final" hidden>
    Ukończyłeś lekcję!
    <a class="btn btn-default" id="to-lesson-map" href="{% url 'learn:lessons_map' %}" id="to-lesson-map">Do mapy lekcji</a>
</h1>

{% endblock %}
